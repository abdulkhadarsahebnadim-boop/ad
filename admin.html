<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reddy Anna Kossu - Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b69 50%, #8b0000 100%);
            min-height: 100vh;
        }

        .admin-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .admin-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2.5rem;
            font-weight: normal;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .admin-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            color: #ffffff;
            opacity: 0.9;
        }

        .admin-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .admin-nav-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #1a1a1a;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-family: 'Poppins', sans-serif;
            font-weight: normal;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .admin-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .admin-nav-btn.active {
            background: linear-gradient(45deg, #8b0000, #ff6b6b);
            color: white;
        }

        .admin-section {
            display: none;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .admin-section.active {
            display: block;
        }

        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 25px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-family: 'Poppins', sans-serif;
            color: #ffffff;
            margin-bottom: 8px;
            font-weight: normal;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ffd700;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: #ffffff;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #ffed4e;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .save-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #1a1a1a;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-family: 'Poppins', sans-serif;
            font-weight: normal;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #ffd700;
        }

        .stat-number {
            font-family: 'Poppins', sans-serif;
            font-size: 2.5rem;
            color: #ffd700;
            font-weight: normal;
            margin-bottom: 10px;
        }

        .stat-label {
            font-family: 'Poppins', sans-serif;
            color: #ffffff;
            font-size: 1.1rem;
        }

        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }

        .admin-table th,
        .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }

        .admin-table th {
            background: rgba(255, 215, 0, 0.1);
            color: #ffd700;
            font-family: 'Poppins', sans-serif;
            font-weight: normal;
        }

        .admin-table td {
            color: #ffffff;
            font-family: 'Poppins', sans-serif;
        }

        .action-btn {
            background: linear-gradient(45deg, #8b0000, #ff6b6b);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(139, 0, 0, 0.4);
        }

        .action-btn.edit {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #1a1a1a;
        }

        .action-btn.delete {
            background: linear-gradient(45deg, #8b0000, #ff6b6b);
        }

        .action-btn.accept {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-family: 'Poppins', sans-serif;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .notification.error {
            background: linear-gradient(45deg, #dc3545, #fd7e14);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b69 50%, #8b0000 100%);
            border-radius: 15px;
            padding: 0;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 2px solid #ffd700;
            background: rgba(0, 0, 0, 0.3);
        }

        .close-modal {
            background: none;
            border: none;
            color: #ffd700;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            color: #ffed4e;
        }

        .modal-body {
            padding: 30px;
        }

        .payment-detail {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .payment-detail h4 {
            color: #ffd700;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .detail-label {
            color: #ffffff;
            font-family: 'Poppins', sans-serif;
            font-weight: normal;
        }

        .detail-value {
            color: #ffd700;
            font-family: 'Poppins', sans-serif;
            font-weight: normal;
        }

        @media (max-width: 768px) {
            .admin-container {
                padding: 10px;
            }

            .admin-title {
                font-size: 2rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .admin-nav {
                flex-direction: column;
                align-items: center;
            }

            .admin-nav-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1 class="admin-title">Admin Panel</h1>
            <p class="admin-subtitle">Reddy Anna Kossu - Content Management System</p>
        </div>

        <nav class="admin-nav">
            <button class="admin-nav-btn active" onclick="showSection('dashboard')">Dashboard</button>
            <button class="admin-nav-btn" onclick="showSection('content')">Content Management</button>
            <button class="admin-nav-btn" onclick="showSection('users')">User Management</button>
            <button class="admin-nav-btn" onclick="showSection('transactions')">Deposit/Withdraw</button>
            <button class="admin-nav-btn" onclick="showSection('livestream')">Live Stream</button>
            <button class="admin-nav-btn" onclick="showSection('settings')">Settings</button>
            <a href="index.html" class="admin-nav-btn">Back to Website</a>
        </nav>

        <!-- Dashboard Section -->
        <div id="dashboard" class="admin-section active">
            <h2 class="section-title">Dashboard Overview</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1,247</div>
                    <div class="stat-label">Total Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3,456</div>
                    <div class="stat-label">Games Played</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">₹2,45,678</div>
                    <div class="stat-label">Total Revenue</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">98.5%</div>
                    <div class="stat-label">Uptime</div>
                </div>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Quick Actions</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <button class="save-btn" onclick="showSection('content')">Manage Content</button>
                    <button class="save-btn" onclick="showSection('users')">View Users</button>
                    <button class="save-btn" onclick="showSection('settings')">Update Settings</button>
                    <button class="save-btn" onclick="exportData()">Export Data</button>
                </div>
            </div>
        </div>

        <!-- Content Management Section -->
        <div id="content" class="admin-section">
            <h2 class="section-title">Content Management</h2>
            
            <form id="contentForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="whatsappNumber">WhatsApp Number</label>
                        <input type="tel" id="whatsappNumber" class="form-input" value="8686886632" placeholder="Enter WhatsApp number">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="siteTitle">Site Title</label>
                        <input type="text" id="siteTitle" class="form-input" value="Reddy Anna Kossu" placeholder="Enter site title">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="heroTitle">Hero Section Title</label>
                    <input type="text" id="heroTitle" class="form-input" value="Welcome to Reddy Anna Kossu" placeholder="Enter hero title">
                </div>

                <div class="form-group">
                    <label class="form-label" for="heroSubtitle">Hero Section Subtitle</label>
                    <textarea id="heroSubtitle" class="form-input form-textarea" placeholder="Enter hero subtitle">Experience the thrill of Andar Bahar with live streaming and real-time betting. Join thousands of players in the most exciting card game platform.</textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="aboutText">About Section Text</label>
                        <textarea id="aboutText" class="form-input form-textarea" placeholder="Enter about text">Reddy Anna Kossu is the premier destination for Andar Bahar gaming with live streaming, secure betting, and 24/7 support.</textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="contactText">Contact Section Text</label>
                        <textarea id="contactText" class="form-input form-textarea" placeholder="Enter contact text">Get in touch with us for support, inquiries, or feedback. We're here to help 24/7.</textarea>
                    </div>
                </div>

                <button type="button" class="save-btn" onclick="saveContent()">Save Content Changes</button>
            </form>
        </div>

        <!-- User Management Section -->
        <div id="users" class="admin-section">
            <h2 class="section-title">User Management</h2>
            
            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">User Filters & Actions</h3>
                <div class="form-row" style="grid-template-columns: 1fr 1fr 1fr;">
                    <div class="form-group">
                        <label class="form-label" for="userStatusFilter">Filter by Status</label>
                        <select id="userStatusFilter" class="form-input" onchange="filterUsers()">
                            <option value="all">All Users</option>
                            <option value="Active">Active Only</option>
                            <option value="Inactive">Inactive Only</option>
                            <option value="Blocked">Blocked Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="userRoleFilter">Filter by Role</label>
                        <select id="userRoleFilter" class="form-input" onchange="filterUsers()">
                            <option value="all">All Roles</option>
                            <option value="User">User</option>
                            <option value="VIP">VIP</option>
                            <option value="Admin">Admin</option>
                            <option value="Moderator">Moderator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="searchUser">Search User</label>
                        <input type="text" id="searchUser" class="form-input" placeholder="Search by ID, Name, Email" onkeyup="searchUsers()">
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="save-btn" onclick="createNewUser()" style="width: auto; padding: 12px 30px;">Create New User</button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="admin-table" id="usersTable">
                    <thead>
                        <tr>
                            <th>User ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Balance</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#001</td>
                            <td>Rajesh Kumar</td>
                            <td>rajesh@example.com</td>
                            <td>+91 9876543210</td>
                            <td>₹5,000</td>
                            <td>VIP</td>
                            <td>Active</td>
                            <td>
                                <button class="action-btn edit" onclick="editUser('001')">Edit</button>
                                <button class="action-btn delete" onclick="blockUser('001')">Block</button>
                            </td>
                        </tr>
                        <tr>
                            <td>#002</td>
                            <td>Priya Sharma</td>
                            <td>priya@example.com</td>
                            <td>+91 9876543211</td>
                            <td>₹12,500</td>
                            <td>User</td>
                            <td>Active</td>
                            <td>
                                <button class="action-btn edit" onclick="editUser('002')">Edit</button>
                                <button class="action-btn delete" onclick="blockUser('002')">Block</button>
                            </td>
                        </tr>
                        <tr>
                            <td>#003</td>
                            <td>Amit Singh</td>
                            <td>amit@example.com</td>
                            <td>+91 9876543212</td>
                            <td>₹2,000</td>
                            <td>User</td>
                            <td>Inactive</td>
                            <td>
                                <button class="action-btn edit" onclick="editUser('003')">Edit</button>
                                <button class="action-btn delete" onclick="blockUser('003')">Unblock</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Deposit/Withdraw Section -->
        <div id="transactions" class="admin-section">
            <h2 class="section-title">Deposit & Withdraw Management</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">₹1,25,000</div>
                    <div class="stat-label">Total Deposits</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">₹85,000</div>
                    <div class="stat-label">Total Withdrawals</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">₹40,000</div>
                    <div class="stat-label">Pending Withdrawals</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">₹2,45,678</div>
                    <div class="stat-label">Current Balance</div>
                </div>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Process Transaction</h3>
                <form id="transactionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="transactionType">Transaction Type</label>
                            <select id="transactionType" class="form-input">
                                <option value="deposit">Deposit</option>
                                <option value="withdraw">Withdraw</option>
                                <option value="refund">Refund</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="userId">User ID</label>
                            <input type="text" id="userId" class="form-input" placeholder="Enter User ID">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="amount">Amount (₹)</label>
                            <input type="number" id="amount" class="form-input" placeholder="Enter amount">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="paymentMethod">Payment Method</label>
                            <select id="paymentMethod" class="form-input">
                                <option value="upi">UPI</option>
                                <option value="bank">Bank Transfer</option>
                                <option value="wallet">Digital Wallet</option>
                                <option value="card">Credit/Debit Card</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="transactionNote">Transaction Note</label>
                        <textarea id="transactionNote" class="form-input form-textarea" placeholder="Enter transaction note"></textarea>
                    </div>
                    
                    <button type="button" class="save-btn" onclick="processTransaction()">Process Transaction</button>
                </form>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Transaction Filters</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="transactionFilter">Filter by Type</label>
                        <select id="transactionFilter" class="form-input" onchange="filterTransactions()">
                            <option value="all">All Transactions</option>
                            <option value="deposit">Deposits Only</option>
                            <option value="withdraw">Withdrawals Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="searchTransaction">Search Transaction</label>
                        <input type="text" id="searchTransaction" class="form-input" placeholder="Search by ID, User, or Amount" onkeyup="searchTransactions()">
                    </div>
                </div>
            </div>

            <div class="table-container">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Recent Transactions</h3>
                <table class="admin-table" id="transactionsTable">
                    <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>User</th>
                            <th>Type</th>
                            <th>Amount</th>
                            <th>Method</th>
                            <th>Status</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#TXN001</td>
                            <td>Rajesh Kumar</td>
                            <td>Deposit</td>
                            <td>₹5,000</td>
                            <td>UPI</td>
                            <td>Completed</td>
                            <td>2024-01-15</td>
                            <td>
                                <button class="action-btn edit" onclick="viewTransaction('TXN001')">View</button>
                                <button class="action-btn accept" onclick="acceptTransaction('TXN001')">Accept</button>
                                <button class="action-btn delete" onclick="cancelTransaction('TXN001')">Cancel</button>
                            </td>
                        </tr>
                        <tr>
                            <td>#TXN002</td>
                            <td>Priya Sharma</td>
                            <td>Withdraw</td>
                            <td>₹2,500</td>
                            <td>Bank Transfer</td>
                            <td>Pending</td>
                            <td>2024-01-15</td>
                            <td>
                                <button class="action-btn edit" onclick="viewTransaction('TXN002')">View</button>
                                <button class="action-btn accept" onclick="acceptTransaction('TXN002')">Accept</button>
                                <button class="action-btn delete" onclick="rejectTransaction('TXN002')">Reject</button>
                            </td>
                        </tr>
                        <tr>
                            <td>#TXN003</td>
                            <td>Amit Singh</td>
                            <td>Deposit</td>
                            <td>₹1,000</td>
                            <td>Digital Wallet</td>
                            <td>Completed</td>
                            <td>2024-01-14</td>
                            <td>
                                <button class="action-btn edit" onclick="viewTransaction('TXN003')">View</button>
                                <button class="action-btn accept" onclick="acceptTransaction('TXN003')">Accept</button>
                                <button class="action-btn delete" onclick="cancelTransaction('TXN003')">Cancel</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Live Stream Section -->
        <div id="livestream" class="admin-section">
            <h2 class="section-title">Live Stream Management</h2>
            
            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Stream Configuration</h3>
                <form id="streamForm">
                    <div class="form-group">
                        <label class="form-label" for="streamUrl">Live Stream URL</label>
                        <input type="url" id="streamUrl" class="form-input" placeholder="https://example.com/live/stream" value="https://www.youtube.com/embed/dQw4w9WgXcQ">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="streamTitle">Stream Title</label>
                            <input type="text" id="streamTitle" class="form-input" placeholder="Enter stream title" value="Andar Bahar Live Game">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="streamStatus">Stream Status</label>
                            <select id="streamStatus" class="form-input">
                                <option value="live">Live</option>
                                <option value="offline">Offline</option>
                                <option value="maintenance">Maintenance</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="streamDescription">Stream Description</label>
                        <textarea id="streamDescription" class="form-input form-textarea" placeholder="Enter stream description">Watch live Andar Bahar games with real-time betting and instant results. Join thousands of players in the most exciting card game experience.</textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="streamQuality">Stream Quality</label>
                            <select id="streamQuality" class="form-input">
                                <option value="720p">720p HD</option>
                                <option value="1080p">1080p Full HD</option>
                                <option value="480p">480p SD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="streamDelay">Stream Delay (seconds)</label>
                            <input type="number" id="streamDelay" class="form-input" value="5" placeholder="Enter delay in seconds">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="backupStreamUrl">Backup Stream URL (Optional)</label>
                        <input type="url" id="backupStreamUrl" class="form-input" placeholder="https://backup.example.com/live/stream">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="streamEmbedCode">Embed Code (HTML/PHP)</label>
                        <textarea id="streamEmbedCode" class="form-input form-textarea" placeholder="Paste your embed code here (HTML iframe, PHP code, etc.)" rows="4"></textarea>
                    </div>
                    
                    <button type="button" class="save-btn" onclick="saveStreamSettings()">Save Stream Settings</button>
                </form>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Stream Preview</h3>
                <div style="background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 20px; text-align: center;">
                    <iframe id="streamPreview" width="100%" height="300" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen style="border-radius: 10px;"></iframe>
                    <p style="color: #ffffff; font-family: 'Poppins', sans-serif; margin-top: 10px;">Live Stream Preview (URL)</p>
                </div>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Embed Code Preview</h3>
                <div style="background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 20px;">
                    <div id="embedCodePreview" style="min-height: 200px; background: rgba(255, 255, 255, 0.1); border-radius: 5px; padding: 15px; color: #ffffff; font-family: 'Poppins', sans-serif;">
                        <p style="text-align: center; opacity: 0.7;">Embed code preview will appear here</p>
                    </div>
                    <p style="color: #ffffff; font-family: 'Poppins', sans-serif; margin-top: 10px; text-align: center;">Custom Embed Code Preview</p>
                </div>
            </div>

            <div class="form-group">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin-bottom: 20px;">Stream Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">1,247</div>
                        <div class="stat-label">Current Viewers</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">5,678</div>
                        <div class="stat-label">Total Views Today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">98.5%</div>
                        <div class="stat-label">Stream Uptime</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2.3s</div>
                        <div class="stat-label">Average Latency</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings" class="admin-section">
            <h2 class="section-title">System Settings</h2>
            
            <form id="settingsForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="maintenanceMode">Maintenance Mode</label>
                        <select id="maintenanceMode" class="form-input">
                            <option value="off">Off</option>
                            <option value="on">On</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="maxBetAmount">Max Bet Amount (₹)</label>
                        <input type="number" id="maxBetAmount" class="form-input" value="10000" placeholder="Enter max bet amount">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="minBetAmount">Min Bet Amount (₹)</label>
                        <input type="number" id="minBetAmount" class="form-input" value="10" placeholder="Enter min bet amount">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="gameTimer">Game Timer (seconds)</label>
                        <input type="number" id="gameTimer" class="form-input" value="30" placeholder="Enter game timer">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="adminEmail">Admin Email</label>
                    <input type="email" id="adminEmail" class="form-input" value="admin@reddyannakossu.com" placeholder="Enter admin email">
                </div>

                <div class="form-group">
                    <label class="form-label" for="backupFrequency">Backup Frequency</label>
                    <select id="backupFrequency" class="form-input">
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="monthly">Monthly</option>
                    </select>
                </div>

                <button type="button" class="save-btn" onclick="saveSettings()">Save Settings</button>
            </form>
        </div>
    </div>

    <!-- Payment Details Modal -->
    <div id="paymentModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin: 0;">Payment Details</h3>
                <button class="close-modal" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="modal-body" id="paymentDetails">
                <!-- Payment details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- User Edit Modal -->
    <div id="userEditModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: #ffd700; font-family: 'Poppins', sans-serif; margin: 0;">Edit User</h3>
                <button class="close-modal" onclick="closeUserEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="userEditForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="editUserId">User ID</label>
                            <input type="text" id="editUserId" class="form-input" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editUserName">Full Name</label>
                            <input type="text" id="editUserName" class="form-input" placeholder="Enter full name">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="editUserEmail">Email Address</label>
                            <input type="email" id="editUserEmail" class="form-input" placeholder="Enter email address">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editUserPhone">Phone Number</label>
                            <input type="tel" id="editUserPhone" class="form-input" placeholder="Enter phone number">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="editUserPassword">Password</label>
                            <input type="text" id="editUserPassword" class="form-input" placeholder="Enter new password">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editUserBalance">Balance (₹)</label>
                            <input type="number" id="editUserBalance" class="form-input" placeholder="Enter balance">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="editUserStatus">Status</label>
                            <select id="editUserStatus" class="form-input">
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                                <option value="Blocked">Blocked</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editUserRole">Role</label>
                            <select id="editUserRole" class="form-input">
                                <option value="User">User</option>
                                <option value="VIP">VIP</option>
                                <option value="Admin">Admin</option>
                                <option value="Moderator">Moderator</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="editUserNotes">Admin Notes</label>
                        <textarea id="editUserNotes" class="form-input form-textarea" placeholder="Enter admin notes about this user"></textarea>
                    </div>
                    
                    <button type="button" class="save-btn" onclick="saveUserChanges()">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script>
        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Show section
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.admin-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all nav buttons
            const navButtons = document.querySelectorAll('.admin-nav-btn');
            navButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Save content
        function saveContent() {
            const whatsappNumber = document.getElementById('whatsappNumber').value;
            const siteTitle = document.getElementById('siteTitle').value;
            const heroTitle = document.getElementById('heroTitle').value;
            const heroSubtitle = document.getElementById('heroSubtitle').value;
            const aboutText = document.getElementById('aboutText').value;
            const contactText = document.getElementById('contactText').value;
            
            // Here you would typically send data to server
            console.log('Saving content:', {
                whatsappNumber,
                siteTitle,
                heroTitle,
                heroSubtitle,
                aboutText,
                contactText
            });
            
            showNotification('Content saved successfully!', 'success');
        }

        // Save settings
        function saveSettings() {
            const maintenanceMode = document.getElementById('maintenanceMode').value;
            const maxBetAmount = document.getElementById('maxBetAmount').value;
            const minBetAmount = document.getElementById('minBetAmount').value;
            const gameTimer = document.getElementById('gameTimer').value;
            const adminEmail = document.getElementById('adminEmail').value;
            const backupFrequency = document.getElementById('backupFrequency').value;
            
            // Here you would typically send data to server
            console.log('Saving settings:', {
                maintenanceMode,
                maxBetAmount,
                minBetAmount,
                gameTimer,
                adminEmail,
                backupFrequency
            });
            
            showNotification('Settings saved successfully!', 'success');
        }

        // Export data
        function exportData() {
            showNotification('Data export started! You will receive an email shortly.', 'success');
        }

        // Process transaction
        function processTransaction() {
            const transactionType = document.getElementById('transactionType').value;
            const userId = document.getElementById('userId').value;
            const amount = document.getElementById('amount').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            const transactionNote = document.getElementById('transactionNote').value;
            
            if (!userId || !amount) {
                showNotification('Please fill in all required fields!', 'error');
                return;
            }
            
            console.log('Processing transaction:', {
                transactionType,
                userId,
                amount,
                paymentMethod,
                transactionNote
            });
            
            showNotification(`${transactionType.charAt(0).toUpperCase() + transactionType.slice(1)} of ₹${amount} processed successfully!`, 'success');
            
            // Clear form
            document.getElementById('transactionForm').reset();
        }

        // Save stream settings
        function saveStreamSettings() {
            const streamUrl = document.getElementById('streamUrl').value;
            const streamTitle = document.getElementById('streamTitle').value;
            const streamStatus = document.getElementById('streamStatus').value;
            const streamDescription = document.getElementById('streamDescription').value;
            const streamQuality = document.getElementById('streamQuality').value;
            const streamDelay = document.getElementById('streamDelay').value;
            const backupStreamUrl = document.getElementById('backupStreamUrl').value;
            const streamEmbedCode = document.getElementById('streamEmbedCode').value;
            
            if (!streamUrl && !streamEmbedCode) {
                showNotification('Please enter either a stream URL or embed code!', 'error');
                return;
            }
            
            console.log('Saving stream settings:', {
                streamUrl,
                streamTitle,
                streamStatus,
                streamDescription,
                streamQuality,
                streamDelay,
                backupStreamUrl,
                streamEmbedCode
            });
            
            // Update URL preview if URL is provided
            if (streamUrl) {
                const preview = document.getElementById('streamPreview');
                preview.src = streamUrl;
            }
            
            // Update embed code preview if embed code is provided
            if (streamEmbedCode) {
                const embedPreview = document.getElementById('embedCodePreview');
                embedPreview.innerHTML = streamEmbedCode;
            }
            
            showNotification('Stream settings saved successfully!', 'success');
        }

        // View transaction details
        function viewTransaction(transactionId) {
            // Get current status from the table
            const table = document.getElementById('transactionsTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            let currentStatus = 'Pending'; // Default status
            
            for (let i = 0; i < rows.length; i++) {
                const idCell = rows[i].cells[0].textContent;
                if (idCell === `#${transactionId}`) {
                    currentStatus = rows[i].cells[5].textContent; // Get current status from table
                    break;
                }
            }

            // Sample transaction data with detailed payment information
            const transactionData = {
                'TXN001': {
                    id: 'TXN001',
                    user: 'Rajesh Kumar',
                    type: 'Deposit',
                    amount: '₹5,000',
                    method: 'UPI',
                    status: currentStatus, // Use current status from table
                    date: '2024-01-15',
                    note: 'UPI payment from PhonePe',
                    reference: 'UPI123456789',
                    paymentDetails: {
                        upiId: 'rajesh.kumar@paytm',
                        upiApp: 'PhonePe',
                        transactionId: 'TXN123456789',
                        timestamp: '2024-01-15 14:30:25'
                    }
                },
                'TXN002': {
                    id: 'TXN002',
                    user: 'Priya Sharma',
                    type: 'Withdraw',
                    amount: '₹2,500',
                    method: 'Bank Transfer',
                    status: currentStatus, // Use current status from table
                    date: '2024-01-15',
                    note: 'Withdrawal to HDFC Bank',
                    reference: 'BANK987654321',
                    paymentDetails: {
                        bankName: 'HDFC Bank',
                        accountNumber: '1234567890',
                        ifscCode: 'HDFC0001234',
                        accountHolderName: 'Priya Sharma',
                        branchName: 'Mumbai Main Branch',
                        transactionId: 'BANK987654321'
                    }
                },
                'TXN003': {
                    id: 'TXN003',
                    user: 'Amit Singh',
                    type: 'Deposit',
                    amount: '₹1,000',
                    method: 'Digital Wallet',
                    status: currentStatus, // Use current status from table
                    date: '2024-01-14',
                    note: 'Paytm wallet deposit',
                    reference: 'WALLET456789123',
                    paymentDetails: {
                        walletType: 'Paytm',
                        walletId: 'amit.singh@paytm',
                        walletBalance: '₹15,000',
                        transactionId: 'WALLET456789123',
                        timestamp: '2024-01-14 10:15:30'
                    }
                }
            };

            const transaction = transactionData[transactionId];
            if (transaction) {
                showPaymentModal(transaction);
            }
        }

        // Show payment details modal
        function showPaymentModal(transaction) {
            const modal = document.getElementById('paymentModal');
            const paymentDetails = document.getElementById('paymentDetails');
            
            let paymentHtml = `
                <div class="payment-detail">
                    <h4>Transaction Information</h4>
                    <div class="detail-row">
                        <span class="detail-label">Transaction ID:</span>
                        <span class="detail-value">${transaction.id}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">User:</span>
                        <span class="detail-value">${transaction.user}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Type:</span>
                        <span class="detail-value">${transaction.type}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Amount:</span>
                        <span class="detail-value">${transaction.amount}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span class="detail-value">${transaction.status}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value">${transaction.date}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Reference:</span>
                        <span class="detail-value">${transaction.reference}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Note:</span>
                        <span class="detail-value">${transaction.note}</span>
                    </div>
                </div>
            `;

            // Add payment method specific details
            if (transaction.method === 'UPI') {
                paymentHtml += `
                    <div class="payment-detail">
                        <h4>UPI Payment Details</h4>
                        <div class="detail-row">
                            <span class="detail-label">UPI ID:</span>
                            <span class="detail-value">${transaction.paymentDetails.upiId}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">UPI App:</span>
                            <span class="detail-value">${transaction.paymentDetails.upiApp}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Transaction ID:</span>
                            <span class="detail-value">${transaction.paymentDetails.transactionId}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Timestamp:</span>
                            <span class="detail-value">${transaction.paymentDetails.timestamp}</span>
                        </div>
                    </div>
                `;
            } else if (transaction.method === 'Bank Transfer') {
                paymentHtml += `
                    <div class="payment-detail">
                        <h4>Bank Transfer Details</h4>
                        <div class="detail-row">
                            <span class="detail-label">Bank Name:</span>
                            <span class="detail-value">${transaction.paymentDetails.bankName}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Account Number:</span>
                            <span class="detail-value">${transaction.paymentDetails.accountNumber}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">IFSC Code:</span>
                            <span class="detail-value">${transaction.paymentDetails.ifscCode}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Account Holder:</span>
                            <span class="detail-value">${transaction.paymentDetails.accountHolderName}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Branch Name:</span>
                            <span class="detail-value">${transaction.paymentDetails.branchName}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Transaction ID:</span>
                            <span class="detail-value">${transaction.paymentDetails.transactionId}</span>
                        </div>
                    </div>
                `;
            } else if (transaction.method === 'Digital Wallet') {
                paymentHtml += `
                    <div class="payment-detail">
                        <h4>Digital Wallet Details</h4>
                        <div class="detail-row">
                            <span class="detail-label">Wallet Type:</span>
                            <span class="detail-value">${transaction.paymentDetails.walletType}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Wallet ID:</span>
                            <span class="detail-value">${transaction.paymentDetails.walletId}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Wallet Balance:</span>
                            <span class="detail-value">${transaction.paymentDetails.walletBalance}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Transaction ID:</span>
                            <span class="detail-value">${transaction.paymentDetails.transactionId}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Timestamp:</span>
                            <span class="detail-value">${transaction.paymentDetails.timestamp}</span>
                        </div>
                    </div>
                `;
            }

            paymentDetails.innerHTML = paymentHtml;
            modal.style.display = 'flex';
        }

        // Close payment modal
        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        // Edit user function
        function editUser(userId) {
            // Use global userData or initialize with sample data
            if (typeof window.userData === 'undefined') {
                window.userData = {
                '001': {
                    id: '001',
                    name: 'Rajesh Kumar',
                    email: 'rajesh@example.com',
                    phone: '+91 9876543210',
                    password: 'rajesh123',
                    balance: '5000',
                    status: 'Active',
                    role: 'VIP',
                    notes: 'VIP customer, regular player'
                },
                '002': {
                    id: '002',
                    name: 'Priya Sharma',
                    email: 'priya@example.com',
                    phone: '+91 9876543211',
                    password: 'priya456',
                    balance: '12500',
                    status: 'Active',
                    role: 'User',
                    notes: 'High roller, prefers Andar Bahar'
                },
                '003': {
                    id: '003',
                    name: 'Amit Singh',
                    email: 'amit@example.com',
                    phone: '+91 9876543212',
                    password: 'amit789',
                    balance: '2000',
                    status: 'Inactive',
                    role: 'User',
                    notes: 'Account temporarily suspended'
                }
                };
            }

            const user = window.userData[userId];
            if (user) {
                // Populate form with user data
                document.getElementById('editUserId').value = user.id;
                document.getElementById('editUserName').value = user.name;
                document.getElementById('editUserEmail').value = user.email;
                document.getElementById('editUserPhone').value = user.phone;
                document.getElementById('editUserPassword').value = user.password;
                document.getElementById('editUserBalance').value = user.balance;
                document.getElementById('editUserStatus').value = user.status;
                document.getElementById('editUserRole').value = user.role;
                document.getElementById('editUserNotes').value = user.notes;
                
                // Show modal
                document.getElementById('userEditModal').style.display = 'flex';
            }
        }

        // Close user edit modal
        function closeUserEditModal() {
            document.getElementById('userEditModal').style.display = 'none';
        }

        // Save user changes
        function saveUserChanges() {
            const userId = document.getElementById('editUserId').value;
            const userName = document.getElementById('editUserName').value;
            const userEmail = document.getElementById('editUserEmail').value;
            const userPhone = document.getElementById('editUserPhone').value;
            const userPassword = document.getElementById('editUserPassword').value;
            const userBalance = document.getElementById('editUserBalance').value;
            const userStatus = document.getElementById('editUserStatus').value;
            const userRole = document.getElementById('editUserRole').value;
            const userNotes = document.getElementById('editUserNotes').value;
            
            if (!userName || !userEmail || !userPhone || !userPassword || !userBalance) {
                showNotification('Please fill in all required fields!', 'error');
                return;
            }
            
            // Update the user table with new data
            const userTable = document.querySelector('#users .admin-table');
            const rows = userTable.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const idCell = rows[i].cells[0].textContent;
                if (idCell === `#${userId}`) {
                    // Update user data in table
                    rows[i].cells[1].textContent = userName; // Name
                    rows[i].cells[2].textContent = userEmail; // Email
                    rows[i].cells[3].textContent = userPhone; // Phone
                    rows[i].cells[4].textContent = `₹${userBalance}`; // Balance
                    rows[i].cells[5].textContent = userRole; // Role
                    rows[i].cells[6].textContent = userStatus; // Status
                    
                    // Update status color
                    if (userStatus === 'Active') {
                        rows[i].cells[6].style.color = '#28a745';
                    } else if (userStatus === 'Inactive') {
                        rows[i].cells[6].style.color = '#ffc107';
                    } else if (userStatus === 'Blocked') {
                        rows[i].cells[6].style.color = '#dc3545';
                    }
                    
                    break;
                }
            }
            
            console.log('Saving user changes:', {
                userId,
                userName,
                userEmail,
                userPhone,
                userPassword,
                userBalance,
                userStatus,
                userRole,
                userNotes
            });
            
            showNotification(`User ${userId} updated successfully!`, 'success');
            closeUserEditModal();
        }

        // Block/Unblock user function
        function blockUser(userId) {
            const userTable = document.querySelector('#users .admin-table');
            const rows = userTable.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const idCell = rows[i].cells[0].textContent;
                if (idCell === `#${userId}`) {
                    const currentStatus = rows[i].cells[6].textContent; // Status is now column 6
                    const actionButton = rows[i].cells[7].querySelector('.action-btn.delete'); // Actions is now column 7
                    
                    if (currentStatus === 'Active') {
                        // Block user
                        if (confirm(`Are you sure you want to block user ${userId}?`)) {
                            rows[i].cells[6].textContent = 'Blocked';
                            rows[i].cells[6].style.color = '#dc3545';
                            actionButton.textContent = 'Unblock';
                            showNotification(`User ${userId} blocked successfully!`, 'success');
                        }
                    } else if (currentStatus === 'Blocked') {
                        // Unblock user
                        if (confirm(`Are you sure you want to unblock user ${userId}?`)) {
                            rows[i].cells[6].textContent = 'Active';
                            rows[i].cells[6].style.color = '#28a745';
                            actionButton.textContent = 'Block';
                            showNotification(`User ${userId} unblocked successfully!`, 'success');
                        }
                    } else if (currentStatus === 'Inactive') {
                        // Activate user
                        if (confirm(`Are you sure you want to activate user ${userId}?`)) {
                            rows[i].cells[6].textContent = 'Active';
                            rows[i].cells[6].style.color = '#28a745';
                            actionButton.textContent = 'Block';
                            showNotification(`User ${userId} activated successfully!`, 'success');
                        }
                    }
                    break;
                }
            }
        }

        // Accept transaction
        function acceptTransaction(transactionId) {
            if (confirm(`Are you sure you want to accept transaction ${transactionId}?`)) {
                console.log(`Accepting transaction: ${transactionId}`);
                
                // Find the transaction row
                const table = document.getElementById('transactionsTable');
                const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
                
                for (let i = 0; i < rows.length; i++) {
                    const idCell = rows[i].cells[0].textContent;
                    if (idCell === `#${transactionId}`) {
                        // Update status to Completed
                        const statusCell = rows[i].cells[5]; // Status column
                        statusCell.textContent = 'Completed';
                        statusCell.style.color = '#28a745';
                        
                        // Hide Accept and Cancel buttons, show only View button
                        const actionCell = rows[i].cells[7]; // Actions column
                        actionCell.innerHTML = `
                            <button class="action-btn edit" onclick="viewTransaction('${transactionId}')">View</button>
                        `;
                        
                        break;
                    }
                }
                
                showNotification(`Transaction ${transactionId} accepted and marked as Completed!`, 'success');
            }
        }

        // Cancel transaction
        function cancelTransaction(transactionId) {
            if (confirm(`Are you sure you want to cancel transaction ${transactionId}?`)) {
                console.log(`Cancelling transaction: ${transactionId}`);
                
                // Find the transaction row
                const table = document.getElementById('transactionsTable');
                const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
                
                for (let i = 0; i < rows.length; i++) {
                    const idCell = rows[i].cells[0].textContent;
                    if (idCell === `#${transactionId}`) {
                        // Update status to Cancelled
                        const statusCell = rows[i].cells[5]; // Status column
                        statusCell.textContent = 'Cancelled';
                        statusCell.style.color = '#dc3545';
                        
                        // Update action buttons
                        const actionCell = rows[i].cells[7]; // Actions column
                        actionCell.innerHTML = `
                            <button class="action-btn edit" onclick="viewTransaction('${transactionId}')">View</button>
                        `;
                        
                        break;
                    }
                }
                
                showNotification(`Transaction ${transactionId} cancelled successfully!`, 'success');
            }
        }

        // Reject transaction
        function rejectTransaction(transactionId) {
            if (confirm(`Are you sure you want to reject transaction ${transactionId}?`)) {
                console.log(`Rejecting transaction: ${transactionId}`);
                
                // Find the transaction row
                const table = document.getElementById('transactionsTable');
                const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
                
                for (let i = 0; i < rows.length; i++) {
                    const idCell = rows[i].cells[0].textContent;
                    if (idCell === `#${transactionId}`) {
                        // Update status to Rejected
                        const statusCell = rows[i].cells[5]; // Status column
                        statusCell.textContent = 'Rejected';
                        statusCell.style.color = '#dc3545';
                        
                        // Update action buttons
                        const actionCell = rows[i].cells[7]; // Actions column
                        actionCell.innerHTML = `
                            <button class="action-btn edit" onclick="viewTransaction('${transactionId}')">View</button>
                        `;
                        
                        break;
                    }
                }
                
                showNotification(`Transaction ${transactionId} rejected successfully!`, 'success');
            }
        }

        // Filter transactions
        function filterTransactions() {
            const filter = document.getElementById('transactionFilter').value;
            const table = document.getElementById('transactionsTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const typeCell = rows[i].cells[2]; // Type column
                const type = typeCell.textContent.toLowerCase();
                
                if (filter === 'all' || type === filter) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }

        // Search transactions
        function searchTransactions() {
            const searchTerm = document.getElementById('searchTransaction').value.toLowerCase();
            const table = document.getElementById('transactionsTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const idCell = rows[i].cells[0].textContent.toLowerCase();
                const userCell = rows[i].cells[1].textContent.toLowerCase();
                const amountCell = rows[i].cells[3].textContent.toLowerCase();
                
                if (idCell.includes(searchTerm) || userCell.includes(searchTerm) || amountCell.includes(searchTerm)) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }

        // Filter users
        function filterUsers() {
            const statusFilter = document.getElementById('userStatusFilter').value;
            const roleFilter = document.getElementById('userRoleFilter').value;
            const table = document.getElementById('usersTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const statusCell = rows[i].cells[6].textContent; // Status column
                const roleCell = rows[i].cells[5].textContent; // Role column
                
                let showRow = true;
                
                // Filter by status
                if (statusFilter !== 'all' && statusCell !== statusFilter) {
                    showRow = false;
                }
                
                // Filter by role
                if (roleFilter !== 'all' && roleCell !== roleFilter) {
                    showRow = false;
                }
                
                rows[i].style.display = showRow ? '' : 'none';
            }
        }

        // Search users
        function searchUsers() {
            const searchTerm = document.getElementById('searchUser').value.toLowerCase();
            const table = document.getElementById('usersTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const idCell = rows[i].cells[0].textContent.toLowerCase();
                const nameCell = rows[i].cells[1].textContent.toLowerCase();
                const emailCell = rows[i].cells[2].textContent.toLowerCase();
                
                if (idCell.includes(searchTerm) || nameCell.includes(searchTerm) || emailCell.includes(searchTerm)) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }

        // Create new user
        function createNewUser() {
            // Generate new user ID
            const newUserId = generateNewUserId();
            
            // Sample new user data
            const newUser = {
                id: newUserId,
                name: 'New User',
                email: 'newuser@example.com',
                phone: '+91 0000000000',
                password: 'newpass123',
                balance: '0',
                status: 'Active',
                role: 'User',
                notes: 'Newly created user'
            };
            
            // Add new user to the table
            const table = document.getElementById('usersTable');
            const tbody = table.getElementsByTagName('tbody')[0];
            
            const newRow = tbody.insertRow();
            newRow.innerHTML = `
                <td>#${newUserId}</td>
                <td>${newUser.name}</td>
                <td>${newUser.email}</td>
                <td>${newUser.phone}</td>
                <td>₹${newUser.balance}</td>
                <td>${newUser.role}</td>
                <td style="color: #28a745;">${newUser.status}</td>
                <td>
                    <button class="action-btn edit" onclick="editUser('${newUserId}')">Edit</button>
                    <button class="action-btn delete" onclick="blockUser('${newUserId}')">Block</button>
                </td>
            `;
            
            // Add to user data for editing
            if (typeof window.userData === 'undefined') {
                window.userData = {};
            }
            window.userData[newUserId] = newUser;
            
            showNotification(`New user ${newUserId} created successfully!`, 'success');
        }

        // Generate new user ID
        function generateNewUserId() {
            const table = document.getElementById('usersTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            let maxId = 0;
            
            for (let i = 0; i < rows.length; i++) {
                const idText = rows[i].cells[0].textContent;
                const id = parseInt(idText.replace('#', ''));
                if (id > maxId) {
                    maxId = id;
                }
            }
            
            return String(maxId + 1).padStart(3, '0');
        }

        // Initialize admin panel
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('Welcome to Admin Panel!', 'success');
        });
    </script>
</body>
</html>
